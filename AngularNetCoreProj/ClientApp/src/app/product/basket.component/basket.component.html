<div class="row g-5">
  <div class="col-md-5 col-lg-4 order-md-last">
    <h4 class="d-flex justify-content-between align-items-center mb-3">
      <span class="text-primary">Your cart</span>
      <span class="badge bg-primary rounded-pill" *ngIf="(basketTotalQuantity$ | async) === null">No items at your shopping cart</span>
      <span class="badge bg-primary rounded-pill" *ngIf="(basketTotalQuantity$ | async) as IBasketTotal">{{IBasketTotal.total}}</span>
    </h4>
    <ul class="list-group mb-3" *ngIf="(basket$ | async) as basket">
      <li class="list-group-item d-flex justify-content-between lh-sm" *ngFor="let item of basket.items">
        <div>
          <h6 class="my-0"><a routerLink="/product/{{item.id}}">{{item.name}}</a></h6>
          <small class="text-muted">Category: {{item.productCategory}}</small>
        </div>
        <span class="text-muted">Price: ${{item.price}}</span>
        <i (click)="decrementItemQuantity(item)" class="fa fa-minus-circle text-warning mr-2"
           style="cursor: pointer; font-size: 2em;"></i>
        <span class="font-weight-bold" style="font-size: 1.5em;">
          {{item.quantity}}
        </span>
        <i (click)="incrementItemQuantity(item)" class="fa fa-plus-circle text-warning mx-2"
           style="cursor: pointer; font-size: 2em;"></i>
      </li>
      
      <li class="list-group-item d-flex justify-content-between">
        <span>Total (USD)</span>
        <strong>${{basket.total}}</strong>
      </li>
    </ul>

  </div>
  <div class="col-md-7 col-lg-8">
    <h4 class="mb-3">Billing address</h4>
    <form class="needs-validation" #myForm="ngForm" (ngSubmit)="placeorder()">
      <div class="row g-3">
        <div class="col-12">
          <label for="username" class="form-label">Username</label>
          <div class="input-group has-validation">
            <span class="input-group-text">@</span>
               <input [(ngModel)]="order.customerName" type="text" class="form-control" id="username" name="username" required>
               <div class="invalid-feedback">
                     Your username is required.
               </div>
          </div>
        </div>
        <div class="col-12">
          <label for="email" class="form-label">Email <span class="text-muted">(Optional)</span></label>
          <input type="email" [(ngModel)]="order.email" class="form-control" name="email" value="you@example.com" required>
          <div class="invalid-feedback">
            Please enter a valid email address for shipping updates.
          </div>
        </div>
        <div class="col-12">
          <label for="phone" class="form-label">Phone Number<span class="text-muted" >(Optional)</span></label>
          <input type="text" [(ngModel)]="order.phone" class="form-control" name="phone" value="123-456-789" required>
          <div class="invalid-feedback">
            Please enter phone number.
          </div>
        </div>
        <div class="col-12">
          <label for="address2" class="form-label">Fax <span class="text-muted">(Optional)</span></label>
          <input type="text" [(ngModel)]="order.fax" class="form-control" name="address2" value="123-456-789">
        </div>
        <div class="col-12">
          <label for="address" class="form-label">Address</label>
          <input type="text" [(ngModel)]="order.address" class="form-control" name="address" value="1234 Main St" required="">
          <div class="invalid-feedback">
            Please enter your shipping address.
          </div>
        </div>

        

        <div class="col-md-3">
          <label for="zip" class="form-label">Zip</label>
          <input type="text" class="form-control" id="zip" value="510220" required="">
          <div class="invalid-feedback">
            Zip code required.
          </div>
        </div>
      </div>

       <h4 class="mb-3">Payment</h4>

      <div class="my-3">
       
        <div class="form-check">
          <input [(ngModel)]="order.paymentMethod" id="credit" value="Credit card" name="paymentMethod" type="radio" class="form-check-input" checked="" required="">
          <label  class="form-check-label" for="credit">Credit card</label>
        </div>
        <div class="form-check">
          <input [(ngModel)]="order.paymentMethod" id="debit" value="Debit card" name="paymentMethod" type="radio" class="form-check-input" required="">
          <label class="form-check-label" for="debit">Debit card</label>
        </div>
        <div class="form-check">
          <input [(ngModel)]="order.paymentMethod" id="paypal" value="PayPal" name="paymentMethod" type="radio" class="form-check-input" required="">
          <label class="form-check-label" for="paypal">PayPal</label>
        </div>
      </div>

      

      <hr class="my-4">

      <button class="w-100 btn btn-primary btn-lg" type="submit" >Place Order</button>
    </form>
  </div>
</div>
